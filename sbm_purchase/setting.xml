<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	
    	<!-- Membuat Group By XML -->

    	<record model="ir.module.category" id="module_category_jobdesc_position">
            <field name="name">Job Desc and Position</field>
        </record>

		<record model="res.groups" id="group_jobdesc_position_dept_chief">
			<field name="category_id" ref="module_category_jobdesc_position"/>
			<field name="name">Dept Chief</field>
		</record>


		<record model="res.groups" id="group_jobdesc_position_dept_manager">
			<field name="category_id" ref="module_category_jobdesc_position"/>
			<field name="name">Dept Manager</field>
		</record>


		<!-- Membuat Rules By XML -->

        <record model="ir.rule" id="ir_purcahse_requisition_chief_rule">
	        <field name="name">Purchase Requisiton Chief</field>
	        <field name="model_id" ref="model_pembelian_barang"/>
	        <field name="domain_force">[('employee_id.user_id','=',user.id)]</field>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="groups" eval="[(4, ref('group_jobdesc_position_dept_chief'))]"/>
	    </record>


	    <record model="ir.rule" id="ir_purcahse_requisition_manager_rule">
	        <field name="name">Purchase Requisiton Manager</field>
	        <field name="model_id" ref="model_pembelian_barang"/>
	        <field name="domain_force">[('department_id','in', [e.department_id.id for e in user.employee_ids])]</field>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="groups" eval="[(4, ref('group_jobdesc_position_dept_manager'))]"/>
	    </record>



	    <record model="ir.rule" id="ir_purcahse_requisition_all_rule">
	        <field name="name">All Purchase Requisition</field>
	        <field name="model_id" ref="model_pembelian_barang"/>
	        <field name="domain_force">[(1,'=',1)]</field>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="groups" eval="[(4, ref('purchase.group_purchase_manager'))]"/>
	    </record>



		<!-- Setting Access Rigth -->
	     <record model="ir.model.access" id="ir_access_pr_regular">
	        <field name="name">Access Purchase Requisition Regular</field>
	        <field name="model_id" ref="model_pembelian_barang"/>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="group_id" eval="group_jobdesc_position_dept_chief"/>
	    </record>

		<record model="ir.model.access" id="ir_access_detail_pb">
	        <field name="name">Access Detail PB</field>
	        <field name="model_id" ref="model_detail_pb"/>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="group_id" eval="group_jobdesc_position_dept_chief"/>
	    </record>


	    <record model="ir.model.access" id="ir_access_rent_requisition_detail">
	        <field name="name">Access Rent Requisition Detail</field>
	        <field name="model_id" ref="sbm_purchase_rent.model_rent_requisition_detail"/>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
	        <field name="group_id" eval="group_jobdesc_position_dept_chief"/>
	    </record>

    </data>
</openerp>