<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
        <record id="invoice_supplier_form" model="ir.ui.view">
            <field name="name">account.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form" />
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='invoice_line']" position="replace">
                    <field context="{'partner_id': partner_id, 'price_type': context.get('price_type') or False, 'type': type}" name="invoice_line">
	                    <tree string="Invoice lines" editable="bottom">
	                        <field name="sequence" widget="handle" />
	                        <field name="product_id"
	                            on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                        <field name="name"/>
	                        <field name="company_id" invisible="1"/>
	                        <field name="account_id" groups="account.group_account_user"
	                            domain="[('company_id', '=', parent.company_id), ('journal_id', '=', parent.journal_id), ('type', '=', 'other')]"
	                            on_change="onchange_account_id(product_id, parent.partner_id, parent.type, parent.fiscal_position,account_id)"/>
	                        <field name="account_analytic_id" groups="analytic.group_analytic_accounting"
	                            domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
	                        <field name="quantity"/>
	                        <field name="uos_id" groups="product.group_uom"
	                            on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                        <field name="price_unit"/>
	                        <field name="amount_discount" />
	                        <field name="discount" groups="sale.group_discount_per_so_line"/>
	                        <field name="invoice_line_tax_id" widget="many2many_tags" context="{'type':parent.type}"
	                            domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]"/>
	                        <!-- <field name="price_subtotal2"/> -->
	                        <field name="price_subtotal"/>
	                    </tree>
	                </field>
	                
	                <div class="oe_clear">
	                    <label for="comment"/>
	                </div>
	                <field name="comment"/>
                </xpath>
                
               	<xpath expr="//field[@name='amount_untaxed']" position="before">
                	<!-- <field name="amount_bruto" widget="monetary" options="{'currency_field': 'currency_id'}"/> -->
            		<field name="total_discount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                </xpath>
                <!-- <field name="amount_untaxed" position="after">
            		<field name="total_discount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
            	</field> -->
            	
            </field>
        </record>
	</data>
</openerp>